<!DOCTYPE html>
<html>
<head>
{{> WEB-INF/views/common_header_tags.mustache}}
<script>
	function saveClick(){
	
		var checkedValues = $('input:checkbox:checked').map(function() {
    			return this.value;
		}).get();
		
		var doc = new jsPDF();
		var j = 20;
		for (var i = 0; i < checkedValues.length; i++) {
		
			{{#bestpracticesList}}
		
				if((checkedValues[i]).localeCompare({{bestPracticeId}}) == 0 ){
					
					doc.text(20, j, "{{topic}}" );
					doc.text(20, j+10, "{{solutionString}}" );
					doc.text(20, j+30, "{{lastUpdatedTime}}" );
				}
				
			{{/bestpracticesList}}
				
			j=j+40;
		}
		
		doc.save('Library.pdf');
	}
</script>
</head>
<body>
{{> WEB-INF/views/header.mustache}}
{{> WEB-INF/views/link_navigator.mustache}}
<div id="display_div">
	<div id="main_div">
		<div id="best_practice_div">
			<a href="#"><img src="{{base_path}}/resources/images/4.png" title="Add topic" height="25" width="25"/> Add new topic </a>
			<table class="best_practice_table">
				{{#bestpracticesList}}
				<tr>
					<td width="2%" align="center">
						<input type="checkbox" name={{bestPracticeId}} value={{bestPracticeId}}>
					</td>
					<td width="45%">
						<a class="link" href="#">{{topic}}</a>
					</td>
					<td width="5%">
						<a href="#"><img src="{{base_path}}/resources/images/2.png" title="Edit topic" height="20" width="20"/></a>
					</td>
					<td width="5%>
						<a href="#"><img src="{{base_path}}/resources/images/3.png" title="Delete topic" height="20" width="20"/></a>
					</td>
					<td align="right" width="30%>
						<font size="2" color="#B6B6B4">
							<i>modified 10 mins ago <img src="{{base_path}}/resources/images/5.png" height="20" width="15"/><b>Username</b></i>
						</font>
					</td>
				</tr>
				<tr>
					<td colspan="5"><hr color="#E5E4E2"></td>
				</tr>
				{{/bestpracticesList}}
			</table>
			<div id="library_button_div">
				<button class="button_table" id="saveclick" onClick="saveClick()">Save as PDF</button>
			</div>
		</div>
		<div id="view_div">
		</div>
	</div>
</div>
</body>
<html>